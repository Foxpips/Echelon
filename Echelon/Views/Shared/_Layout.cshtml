@using System.Threading
@using Echelon.Infrastructure.Helpers
<!DOCTYPE html>

<html id="htmlContainer" class="window-container overflow-hidden @CookieStore.GetCookie("theme")">

<head lang="@Thread.CurrentThread.CurrentCulture">
    <title>Echelon</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#2882c2">
    <meta name="msapplication-navbutton-color" content="#2882c2">
    <meta name="apple-mobile-web-app-status-bar-style" content="#2882c2">
    @Html.Partial("_Favicon")
    @RenderSection("metadata")
    @Styles.Render("~/bundles/css")
</head>

<body class="window-container overflow-auto component__background">
    @Html.Hidden("SiteUrl", $"{Request.Url?.Scheme}://{Request.Url?.Authority}{Url.Content("~")}")

    <button id="themeDark" data-attribute="theme" data-target="theme--dark" class="btn btn-info">Dark</button>
    <button id="themeLight" data-attribute="theme" data-target="theme--light" class="btn btn-info">Light</button>

    @if (User.Identity.IsAuthenticated)
    {
        @Html.Partial("_Header")
    }

    @RenderBody()
    @Scripts.Render("~/bundles/js")

    <script>
        var siteurl = $("#SiteUrl").val();
        $(function () { SitePage(); });
    </script>

    @RenderSection("scripts", false)
</body>

</html>
