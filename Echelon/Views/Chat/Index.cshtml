@section metadata{
    <title>Echelon Chat</title>
}


@Html.AntiForgeryToken()
<section id="container" class="form-material">
    <div class="main-background"></div>
    <div id="loading">
        <div class="loading__overlay"></div>
        <div class="loading__icon"></div>
    </div>
    <div id="messages" class="messages__console">
        <div id="loggingIn" class="messages--info hidden">Logging in...</div>
        <div id="joiningChat" class="messages--info hidden">Attempting to join </div>
    </div>
    <div id="users" class="sidebar">
        People in chat
    </div>
    <div id="input-container">
        <textarea id="chat-input" class="chat__input " rows="1" cols="3" data-target="@Url.Action("Index", "Token")" placeholder="Type a message" tabindex="1"></textarea>
        <div class="main-wrapper">
            <div id="bubbles" class="bubbles">
                <div class="bubble bubble--one">
                    <span class="bubble__glow"></span>
                </div>
                <div class="bubble bubble--two">
                    <span class="bubble__glow"></span>
                </div>
                <div class="bubble bubble--three">
                    <span class="bubble__glow"></span>
                </div>
                <div class="bubble bubble--four">
                    <span class="bubble__glow"></span>
                </div>
                <div class="bubble bubble--five">
                    <span class="bubble__glow"></span>
                </div>
            </div>
            <i id="sendButton" class="basic-icon animated-icon animated-icon--send fa fa-envelope"></i>
        </div>
    </div>
</section>

@section scripts {
    <script src="//media.twiliocdn.com/sdk/rtc/js/ip-messaging/v0.9/twilio-ip-messaging.min.js"></script>
    <script src="//media.twiliocdn.com/sdk/js/common/v0.1/twilio-common.min.js"></script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({ pageLanguage: '' }, 'google-translate-element');
        }

        $(function() {
            ChatPage();
        });
    </script>
}